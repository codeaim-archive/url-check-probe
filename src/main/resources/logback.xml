<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>urlcheck: %-4relative [%thread] %-5level %logger{35} - %msg %n</pattern>
        </encoder>
    </appender>
    <appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashSocketAppender">
        <host>${LOGSTASH_HOST:-localhost}</host>
        <port>${LOGSTASH_PORT:-514}</port>
        <customFields>{"application-name": "${SPRING_APPLICATION_NAME}", "application-dyno": "${DYNO}"}</customFields>
    </appender>
    <appender name="PAPERTRAIL" class="ch.qos.logback.classic.net.SyslogAppender">
        <syslogHost>${PAPERTRAIL_HOST}</syslogHost>
        <port>${PAPERTRAIL_PORT}</port>
        <facility>USER</facility>
        <suffixPattern>${SPRING_APPLICATION_NAME} %-4relative [%thread] %-5level %logger{35} - %msg %n</suffixPattern>
    </appender>
    <root level="INFO">
        <appender-ref ref="STDOUT" />
        <appender-ref ref="LOGSTASH" />
        <appender-ref ref="PAPERTRAIL" />
    </root>
</configuration>